# 快速入门

<cite>
**本文档中引用的文件**   
- [README.md](file://README.md)
- [setup.sh](file://setup.sh)
- [setup.bat](file://setup.bat)
- [quickstart.bat](file://quickstart.bat)
- [docker\start-docker.bat](file://docker/start-docker.bat)
- [check_environment.bat](file://check_environment.bat)
- [manage_services.bat](file://manage_services.bat)
- [start_backend.bat](file://start_backend.bat)
- [start_frontend.bat](file://start_frontend.bat)
</cite>

## 目录
1. [简介](#简介)
2. [30秒快速启动](#30秒快速启动)
3. [安装模式详解](#安装模式详解)
4. [Windows用户指南](#windows用户指南)
5. [服务管理与环境检查](#服务管理与环境检查)
6. [首次代理调用示例](#首次代理调用示例)
7. [常见问题与解决方案](#常见问题与解决方案)

## 简介

ROMA（Recursive Open Meta-Agents）是一个递归元代理框架，通过分层结构解决复杂问题。该框架将任务分解为可并行处理的组件，支持透明开发和高性能执行。本指南旨在帮助用户在30秒内完成本地部署并运行第一个代理。

**核心特性**：
- **递归任务分解**：自动将复杂任务分解为子任务
- **并行问题解决**：代理同时处理不同部分的任务
- **完全透明**：提供完整的执行流程追踪
- **开放扩展**：支持社区驱动的代理开发

## 30秒快速启动

遵循以下步骤，在30秒内完成ROMA的本地部署：

```bash
git clone https://github.com/sentient-agi/ROMA.git
cd ROMA

# 运行自动化设置脚本
./setup.sh
```

### 启动服务

部署完成后，启动前后端服务：

```bash
# 启动后端API服务
python -m sentientresearchagent

# 启动前端开发服务器
npm run dev
```

访问 `http://localhost:3000` 查看前端界面，后端API将在 `http://localhost:5000` 可用。

**Section sources**
- [README.md](file://README.md#L89-L95)
- [setup.sh](file://setup.sh#L1-L10)

## 安装模式详解

ROMA提供两种安装模式，推荐使用Docker安装以获得最佳隔离性和一致性。

### Docker安装（推荐）

Docker安装模式提供了一键式设置，包含所有依赖项的隔离环境。

**优点**：
- 环境隔离，避免系统污染
- 一键安装，简化配置
- 生产就绪，确保一致性
- 自动处理依赖关系

**操作步骤**：
```bash
# 克隆仓库
git clone https://github.com/sentient-agi/ROMA.git
cd ROMA

# 使用Docker设置
./setup.sh --docker
```

### 原生安装

原生安装模式直接在系统上安装依赖，适合开发和调试。

**适用场景**：
- 需要频繁修改代码的开发者
- 需要深度调试的高级用户
- 资源受限无法运行Docker的环境

**操作步骤**：
```bash
# 克隆仓库
git clone https://github.com/sentient-agi/ROMA.git
cd ROMA

# 使用原生模式设置
./setup.sh --native
```

**选择建议**：
- **新手用户**：选择Docker安装
- **开发人员**：选择原生安装
- **生产环境**：必须使用Docker安装

**Section sources**
- [README.md](file://README.md#L100-L115)
- [setup.sh](file://setup.sh#L800-L850)

## Windows用户指南

Windows用户可以使用提供的批处理脚本来简化安装和管理过程。

### 批处理脚本使用说明

#### 快速启动脚本
```cmd
quickstart.bat
```
此脚本会自动启动后端和前端服务，并在浏览器中打开前端界面。

#### Docker管理脚本
```cmd
# 启动Docker服务
docker\start-docker.bat

# 停止Docker服务
docker\stop-docker.bat

# 查看日志
docker\logs-docker.bat
```

#### 设置脚本
```cmd
# Docker设置（推荐）
setup.bat --docker

# 原生设置
setup.bat --native
```

### Windows特定注意事项

1. **权限问题**：以管理员身份运行命令提示符或PowerShell
2. **路径问题**：避免在包含空格或特殊字符的路径中安装
3. **防火墙**：确保端口3000和5000未被防火墙阻止
4. **环境变量**：某些功能需要正确配置环境变量

**Section sources**
- [README.md](file://README.md#L180-L200)
- [setup.bat](file://setup.bat#L1-L100)
- [quickstart.bat](file://quickstart.bat#L1-L50)
- [docker\start-docker.bat](file://docker/start-docker.bat#L1-L50)

## 服务管理与环境检查

ROMA提供了一系列辅助脚本来帮助管理和检查环境状态。

### 环境检查

使用 `check_environment.bat` 脚本检查当前环境是否满足运行要求：

```cmd
check_environment.bat
```

该脚本会检查：
- Python、Node.js和npm是否已安装
- 虚拟环境是否已创建
- 前端依赖是否已安装
- 必要目录是否存在

### 服务管理

使用 `manage_services.bat` 脚本管理服务：

```cmd
manage_services.bat
```

该脚本提供交互式菜单，允许用户：
- 设置环境（首次使用）
- 启动后端服务
- 启动前端服务
- 同时启动前后端服务
- 检查服务状态
- 查看环境信息

### 单独启动服务

如果需要单独控制服务，可以使用以下脚本：

```cmd
# 启动后端服务
start_backend.bat

# 启动前端服务
start_frontend.bat
```

**Section sources**
- [check_environment.bat](file://check_environment.bat#L1-L50)
- [manage_services.bat](file://manage_services.bat#L1-L50)
- [start_backend.bat](file://start_backend.bat#L1-L20)
- [start_frontend.bat](file://start_frontend.bat#L1-L20)

## 首次代理调用示例

完成部署后，可以通过以下代码调用第一个代理：

```python
# 导入SentientAgent类
from sentientresearchagent import SentientAgent

# 创建代理实例
agent = SentientAgent.create()

# 运行第一个任务
result = await agent.run("Create a podcast about AI safety")
```

### 执行流程说明

1. **任务接收**：代理接收到"创建关于AI安全的播客"的任务
2. **任务分解**：将大任务分解为研究、脚本编写、音频生成等子任务
3. **并行执行**：多个代理同时处理不同的子任务
4. **结果聚合**：将各个子任务的结果整合成最终输出

### 预期输出

成功执行后，您将看到类似以下的输出：
- 一个完整的播客脚本
- 相关的研究资料
- 音频生成建议
- 发布平台推荐

**Section sources**
- [README.md](file://README.md#L350-L370)
- [src\sentientresearchagent\framework_entry.py](file://src/sentientresearchagent/framework_entry.py#L1-L100)

## 常见问题与解决方案

### 权限错误

**问题**：在Linux/Mac上运行setup.sh时出现权限错误
**解决方案**：
```bash
# 给脚本添加执行权限
chmod +x setup.sh

# 或者以sudo权限运行
sudo ./setup.sh
```

### 网络超时

**问题**：下载依赖时出现网络超时
**解决方案**：
1. 检查网络连接
2. 尝试使用国内镜像源
3. 重新运行setup.sh脚本

### 端口占用

**问题**：端口3000或5000已被占用
**解决方案**：
```bash
# 查看占用端口的进程
lsof -i :3000
lsof -i :5000

# 终止占用进程
kill -9 <PID>
```

### Docker相关问题

**问题**：Docker服务无法启动
**解决方案**：
1. 确保Docker Desktop已正确安装
2. 检查Docker服务是否正在运行
3. 重启Docker Desktop

### 环境变量问题

**问题**：缺少必要的API密钥
**解决方案**：
1. 复制.env.example为.env
2. 在.env文件中填写相应的API密钥
3. 重新运行setup.sh

对于更详细的配置说明，请参考[SETUP文档](docs/SETUP.md)。

**Section sources**
- [setup.sh](file://setup.sh#L800-L900)
- [setup.bat](file://setup.bat#L1-L100)